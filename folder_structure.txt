MAKA(Multi agent Knowledge Assistant)/
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ v1/
â”‚   â”‚   â”‚   â”œâ”€â”€ chat.py
â”‚   â”‚   â”‚   â”œâ”€â”€ rag.py
â”‚   â”‚   â”‚   â”œâ”€â”€ agents.py
â”‚   â”‚   â”‚   â””â”€â”€ health.py
â”‚   â”‚   â””â”€â”€ __init__.py
â”‚   â”‚
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”‚   â”œâ”€â”€ logging_config.py
â”‚   â”‚   â””â”€â”€ constants.py
â”‚   â”‚
â”‚   â”œâ”€â”€ models/         # Pydantic models (Request/Response)
â”‚   â”‚   â”œâ”€â”€ chat_models.py
â”‚   â”‚   â”œâ”€â”€ rag_models.py
â”‚   â”‚   â””â”€â”€ agent_models.py
â”‚   â”‚
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ llm/
â”‚   â”‚   â”‚   â”œâ”€â”€ openai_service.py
â”‚   â”‚   â”‚   â”œâ”€â”€ gemini_service.py
â”‚   â”‚   â”‚   â””â”€â”€ ollama_service.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ memory/
â”‚   â”‚   â”‚   â”œâ”€â”€ short_term.py
â”‚   â”‚   â”‚   â”œâ”€â”€ long_term.py
â”‚   â”‚   â”‚   â””â”€â”€ episodic.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ rag/
â”‚   â”‚   â”‚   â”œâ”€â”€ ingest.py
â”‚   â”‚   â”‚   â”œâ”€â”€ retriever.py
â”‚   â”‚   â”‚   â””â”€â”€ chunker.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â”‚   â”œâ”€â”€ planner_agent.py
â”‚   â”‚   â”‚   â”œâ”€â”€ code_agent.py
â”‚   â”‚   â”‚   â”œâ”€â”€ rag_agent.py
â”‚   â”‚   â”‚   â”œâ”€â”€ reviewer_agent.py
â”‚   â”‚   â”‚   â””â”€â”€ supervisor_agent.py
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â”œâ”€â”€ text_utils.py
â”‚   â”‚       â”œâ”€â”€ token_utils.py
â”‚   â”‚       â””â”€â”€ file_utils.py
â”‚   â”‚
â”‚   â”œâ”€â”€ workflows/
â”‚   â”‚   â”œâ”€â”€ multi_agent_graph.py
â”‚   â”‚   â”œâ”€â”€ rag_graph.py
â”‚   â”‚   â””â”€â”€ memory_graph.py
â”‚   â”‚
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”œâ”€â”€ database.py
â”‚   â”‚   â”œâ”€â”€ postgres_connection.py
â”‚   â”‚   â”œâ”€â”€ schemas.sql
â”‚   â”‚   â””â”€â”€ migrations/
â”‚   â”‚
â”‚   â”œâ”€â”€ main.py          # FastAPI entry point
â”‚   â””â”€â”€ __init__.py
â”‚
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ docs/            # PDFs, PPTs, manuals for RAG
â”‚   â”œâ”€â”€ embeddings/      # Local FAISS / Chroma indexes
â”‚   â””â”€â”€ memory/          # Episodic or long-term summary files
â”‚
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”œâ”€â”€ docker-compose.yml
â”‚   â””â”€â”€ env.example
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ test_api.py
â”‚   â”œâ”€â”€ test_agents.py
â”‚   â””â”€â”€ test_rag.py
â”‚
â”œâ”€â”€ .env                 # Real environment variables
â”œâ”€â”€ .gitignore
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md



ğŸ§© EXPLANATION OF IMPORTANT FOLDERS
ğŸ”¹ app/api/v1/

FastAPI endpoints:

File	Use
chat.py	Multi-agent chat endpoint (/chat)
rag.py	RAG search endpoint (/rag)
agents.py	Expose agent behaviour for debugging
health.py	/health endpoint
ğŸ”¹ app/services/llm/

LLM provider logic:

openai_service.py â†’ GPT-4o, mini

gemini_service.py â†’ Gemini Flash & Pro

ollama_service.py â†’ LLaMA / Mistral local models

This allows:
âœ” model fallback
âœ” switching between providers
âœ” backup emergency local model

ğŸ”¹ app/services/agents/

Each agent separated:

Planner Agent

RAG Agent

Code Agent

Reviewer Agent

Supervisor Agent

ğŸ”¹ app/workflows/

LangGraph workflows:

File	Use
multi_agent_graph.py	Main multi-agent pipeline
rag_graph.py	RAG-only pipeline
memory_graph.py	Memory summarisation routines
ğŸ”¹ app/db/

Database layer:

database.py                â†’ session manager
postgres_connection.py     â†’ connection code
schemas.sql                â†’ table definitions
migrations/                â†’ schema migration files


Tables typically include:

users

threads

messages

vector_metadata

episodic_memory

ğŸ”¹ docker/

For deployment:

Dockerfile

docker-compose

env.example

Makes deployment extremely easy on free hosts.

ğŸŒ main.py â€” FastAPI entry point

This launches the server:

from fastapi import FastAPI
from app.api.v1 import chat, rag, agents, health

app = FastAPI()

app.include_router(chat.router, prefix="/api/v1/chat")
app.include_router(rag.router, prefix="/api/v1/rag")
app.include_router(agents.router, prefix="/api/v1/agents")
app.include_router(health.router, prefix="/api/v1/health")
